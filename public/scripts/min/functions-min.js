function Poster(e,t,r,n,a){this.title=e,this.caption=t,this.year=r,this.urls=n,this.largePosterUrl=a}const prefixes=["prefix poster: <http://uib.no/info310/movieOntology#> ","prefix owl: <http://www.w3.org/2002/07/owl#> ","prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> ","prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> ","prefix dbpedia: <http://dbpedia.org/resource/>"].join(" "),queryEndpoint="http://localhost:8080/ds/?query=",format="&format=json";$(function(){function e(e){for(var r=$(".posters"),n=0;n<e.length;n++){var a=e[n],l=t(a,null);r.append(l)}}function t(e,t){return"<img class='img-responsive' src=\""+e+'" alt="'+t+'">'}function r(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].url.value);return t}function n(){$("tbody tr").on("click",function(e){e.preventDefault(),alert("Hello")})}var a={searchBtnClick:function(){$("#searchBtn").on("click",function(e){$(".col-xs-12").html(""),e.preventDefault();var t=$("#nameSearch").val();if(0===t.length)$("legend").html("Search cannot be empty");else{var r=prefixes+'SELECT ?name ?year ?url ?caption WHERE { ?poster a poster:poster;  poster:title ?name;  rdfs:label ?name;  poster:year ?year;  poster:caption ?caption;  poster:posterUrl ?url .  FILTER(strStarts(?name, "'+t+'"))}  ORDER BY DESC(?year) ',l=queryEndpoint+encodeURIComponent(r)+format;$.get(l,function(e){e.results.bindings.length>0&&(a.showMultipleHitList(e.results.bindings),n())})}})},populateData:function(t){var n=t.results.bindings,a=null;if(0==n.length)$("legend").html("No results for "+$("#nameSearch").val());else if(n.length>0){const l=n[0],o=l.name.value,s=l.caption.value,i=r(n),p=l.year.value;a=new Poster(o,s,p,i,null),e(a.urls),$(".posterData").append("<h1>"+s+"</h1>")}},showMultipleHitList:function(e){$("legend").html("There was multiple hits for "+$("#nameSearch").val()),$("legend").append("<p>Select your desired poster from the list</p>");var t=$(".results");$(".multipleHitTable").removeClass("hide");var r=$(".multipleHitTable tbody");$.each(e,function(e,t){r.append('<tr data-posterName="'+t.name.value+'"><td>'+t.name.value+"</td><td>"+t.caption.value+"</td><td>"+t.year.value+'</td><td><a href="'+t.url.value+'">'+t.url.value+"</a></td></tr>")})}};a.searchBtnClick()});